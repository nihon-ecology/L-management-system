# LPè¨ˆæ¸¬ã‚¿ã‚°å¤‰æ•°åŒ–ã«ã‚ˆã‚‹è¤‡è£½å‰Šæ¸› å®Ÿè£…è¨ˆç”»æ›¸

## ğŸ“ ç¾çŠ¶èª¿æŸ»çµæœ

### ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ
```
L-management-system/LP/
â”œâ”€â”€ chikudenchi-eco.com/    # è“„é›»æ± LPï¼ˆ44é …ç›®ï¼‰
â”œâ”€â”€ l-mmto/                  # ãƒ¡ã‚¤ãƒ³ç³»LPï¼ˆ358é …ç›®ï¼‰
â”œâ”€â”€ lp-thanks/               # ã‚µãƒ³ã‚¯ã‚¹ãƒšãƒ¼ã‚¸ï¼ˆ180é …ç›®ï¼‰
â”œâ”€â”€ ãƒãƒ³ã‚¬LP_ãƒã‚¹ãƒã‚¿æ§˜/      # ä»£ç†åº—åˆ¥ãƒãƒ³ã‚¬LP
â”œâ”€â”€ ãƒãƒ³ã‚¬LP_ãƒŸãƒ¼ã‚¯ãƒªã‚¨ã‚¤ãƒˆæ§˜/ # ä»£ç†åº—åˆ¥ãƒãƒ³ã‚¬LPï¼ˆ14é …ç›®ï¼‰
â”œâ”€â”€ ãƒãƒ³ã‚¬P_sirococoæ§˜/      # ä»£ç†åº—åˆ¥ãƒãƒ³ã‚¬LPï¼ˆ224é …ç›®ï¼‰
â”œâ”€â”€ æ±äº¬éƒ½è£œåŠ©é‡‘LP/          # è£œåŠ©é‡‘LPï¼ˆ572é …ç›®ï¼‰
â””â”€â”€ ç›´ãƒ•ã‚©ãƒ¼ãƒ /              # ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆ164é …ç›®ï¼‰
```

### éšå±¤æ§‹é€ 
**ãƒ‘ã‚¿ãƒ¼ãƒ³**: `LPç¨®é¡ / åœ°åŸŸ / ä»£ç†åº— / ãƒ‘ã‚¿ãƒ¼ãƒ³`
```
ä¾‹ï¼šæ±äº¬éƒ½è£œåŠ©é‡‘LP / æ±äº¬ / A8 / lpa1 / index.html
```

### è¤‡è£½æ•°ã®æ¦‚ç®—
| é …ç›® | æ•° |
|------|-----|
| LPç¨®é¡ | 8ç¨®é¡ |
| åœ°åŸŸ | 2ç¨®é¡ï¼ˆæ±äº¬/åœ°æ–¹ï¼‰ |
| ä»£ç†åº— | 3ç¤¾ï¼ˆA8ã€ONEã€ãƒ­ãƒ³ãƒãƒ¼ãƒ‰ï¼‰ |
| HTMLãƒ•ã‚¡ã‚¤ãƒ«ç·æ•° | 85ä»¶ï¼ˆæ¤œå‡ºåˆ†ï¼‰ |

### è¨ˆæ¸¬ã‚¿ã‚°ã®å·®åˆ†ãƒ‘ã‚¿ãƒ¼ãƒ³

| ã‚¿ã‚°ç¨®é¡ | å·®åˆ†å†…å®¹ |
|---------|---------|
| Meta Pixel | IDã®ã¿ç•°ãªã‚‹ï¼ˆA8: `1084061196949406`, ONE: `1494083678271836`ï¼‰ |
| Google Ads | ä»£ç†åº—ã«ã‚ˆã£ã¦æœ‰ç„¡ãŒç•°ãªã‚‹ï¼ˆONEã®ã¿ï¼‰ |
| Yahooåºƒå‘Š | ONEã®ã¿ä½¿ç”¨ |
| Crossees | ãƒ­ãƒ³ãƒãƒ¼ãƒ‰ã®ã¿ä½¿ç”¨ |
| formrun | ãƒ•ã‚©ãƒ¼ãƒ IDã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒä»£ç†åº—ã”ã¨ã«ç•°ãªã‚‹ |
| GTM | ã‚µãƒ³ã‚¯ã‚¹ãƒšãƒ¼ã‚¸ã§ä½¿ç”¨ï¼ˆ`GTM-P85D7GZT`ç­‰ï¼‰ |

---

## ğŸ”§ è¨­è¨ˆæ–¹é‡

### æ¨å¥¨æ¡ˆï¼šãƒ“ãƒ«ãƒ‰æ™‚ç”Ÿæˆæ–¹å¼

```mermaid
flowchart LR
    A[è¨­å®šJSON] --> B[ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ]
    C[EJSãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ] --> B
    B --> D[dist/prod/...]
    B --> E[dist/test/...]
```

| è¦³ç‚¹ | è©•ä¾¡ |
|------|------|
| é‹ç”¨è² è· | â­â­â­â­â­ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½è¨˜ã™ã‚‹ã ã‘ |
| ãƒŸã‚¹è€æ€§ | â­â­â­â­â­ ã‚¿ã‚°ã¯è¨­å®šã‹ã‚‰è‡ªå‹•æŒ¿å…¥ |
| è¨ˆæ¸¬ç¢ºå®Ÿæ€§ | â­â­â­â­â­ ç”Ÿæˆæ™‚ã«ç¢ºå®šã€ãƒ–ãƒ¬ãªã„ |
| ãƒ‡ãƒãƒƒã‚° | â­â­â­â­ ãƒ†ã‚¹ãƒˆç”¨ãƒ“ãƒ«ãƒ‰åˆ†é›¢ãŒå®¹æ˜“ |

---

## ğŸ“ CI/CDå¯¾å¿œãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
L-management-system/LP/
â”œâ”€â”€ config/                     # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ agencies.json           # ä»£ç†åº—åˆ¥è¨ˆæ¸¬ã‚¿ã‚°è¨­å®š
â”‚   â”œâ”€â”€ regions.json            # åœ°åŸŸåˆ¥è¨­å®š
â”‚   â””â”€â”€ lp-types.json           # LPç¨®é¡å®šç¾©
â”‚
â”œâ”€â”€ src/                        # ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ templates/              # EJSãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ partials/           # å…±é€šãƒ‘ãƒ¼ãƒ„
â”‚   â”‚   â”‚   â”œâ”€â”€ head-tags.ejs   # è¨ˆæ¸¬ã‚¿ã‚°ï¼ˆheadç”¨ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ body-tags.ejs   # GTM noscriptç­‰
â”‚   â”‚   â”‚   â””â”€â”€ form.ejs        # formrunåŸ‹ã‚è¾¼ã¿
â”‚   â”‚   â””â”€â”€ pages/              # LPç¨®é¡åˆ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚       â””â”€â”€ tokyo-subsidy/
â”‚   â”‚           â”œâ”€â”€ index.ejs
â”‚   â”‚           â””â”€â”€ thanks.ejs
â”‚   â””â”€â”€ assets/                 # é™çš„è³‡ç”£
â”‚       â””â”€â”€ tokyo-subsidy/
â”‚           â”œâ”€â”€ css/
â”‚           â””â”€â”€ img/
â”‚
â”œâ”€â”€ scripts/                    # ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ build.js
â”‚
â”œâ”€â”€ dist/                       # ç”Ÿæˆç‰©ï¼ˆGitç®¡ç†å¤–ï¼‰
â”‚   â”œâ”€â”€ prod/                   # æœ¬ç•ªç”¨
â”‚   â”‚   â””â”€â”€ {lp-type}/{region}/{agency}/
â”‚   â””â”€â”€ test/                   # ãƒ†ã‚¹ãƒˆç”¨ï¼ˆè¨ˆæ¸¬ç„¡åŠ¹ï¼‰
â”‚
â”œâ”€â”€ .github/workflows/
â”‚   â””â”€â”€ lp-build.yml            # GitHub Actions
â”‚
â”œâ”€â”€ package.json
â”œâ”€â”€ .env.example
â””â”€â”€ .gitignore
```

---

## ğŸ”„ CI/CD ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥

| ãƒ–ãƒ©ãƒ³ãƒ | ãƒˆãƒªã‚¬ãƒ¼ | ãƒ“ãƒ«ãƒ‰ç’°å¢ƒ | ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ |
|---------|---------|-----------|-----------|
| `main` | push | production | æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼ |
| `develop` | push | test | ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚° |
| PR | open/sync | ä¸¡æ–¹ | ãƒ‡ãƒ—ãƒ­ã‚¤ãªã—ï¼ˆæ¤œè¨¼ã®ã¿ï¼‰ |

### npm scripts

```bash
# å…¨LPç”Ÿæˆï¼ˆprod + testï¼‰
npm run build

# æœ¬ç•ªç”¨ã®ã¿
npm run build:prod

# ãƒ†ã‚¹ãƒˆç”¨ã®ã¿
npm run build:test

# ç‰¹å®šLPã®ã¿
npm run build -- --lp tokyo-subsidy

# ç‰¹å®šä»£ç†åº—ã®ã¿
npm run build -- --agency A8

# çµ„ã¿åˆã‚ã›
npm run build -- --lp tokyo-subsidy --agency A8
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆLPè¨ˆæ¸¬æ±šæŸ“é˜²æ­¢ç­–

ãƒ†ã‚¹ãƒˆç’°å¢ƒï¼ˆ`dist/test/`ï¼‰ã§ã¯ä»¥ä¸‹ãŒè‡ªå‹•é©ç”¨ã•ã‚Œã¾ã™ï¼š

1. **noindexè¨­å®š**: `<meta name="robots" content="noindex, nofollow">`
2. **è¨ˆæ¸¬ã‚¿ã‚°ç„¡åŠ¹åŒ–**: å…¨ã¦ã®ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å‡ºåŠ›ã—ãªã„
3. **ãƒ€ãƒŸãƒ¼ID**: ä¸‡ä¸€å‡ºåŠ›ã•ã‚Œã¦ã‚‚`TEST_MODE_DISABLED`ã‚’è¨­å®š

---

## âœ… ä½œæˆæ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

| ãƒ•ã‚¡ã‚¤ãƒ« | èª¬æ˜ |
|---------|------|
| `package.json` | ä¾å­˜é–¢ä¿‚ãƒ»npm scriptså®šç¾© |
| `config/agencies.json` | ä»£ç†åº—åˆ¥è¨ˆæ¸¬ã‚¿ã‚°è¨­å®š |
| `config/regions.json` | åœ°åŸŸåˆ¥è¨­å®š |
| `config/lp-types.json` | LPç¨®é¡å®šç¾© |
| `src/templates/partials/head-tags.ejs` | è¨ˆæ¸¬ã‚¿ã‚°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ |
| `src/templates/partials/body-tags.ejs` | GTM noscriptãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ |
| `src/templates/partials/form.ejs` | formrunãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ |
| `src/templates/pages/tokyo-subsidy/index.ejs` | æ±äº¬éƒ½è£œåŠ©é‡‘LPãƒ¡ã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ |
| `src/templates/pages/tokyo-subsidy/thanks.ejs` | ã‚µãƒ³ã‚¯ã‚¹ãƒšãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ |
| `scripts/build.js` | ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ |
| `.github/workflows/lp-build.yml` | GitHub Actionsè¨­å®š |
| `README.md` | ä½¿ã„æ–¹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |

---

## ğŸ“‹ æ¤œè¨¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### å…¬é–‹ç”¨LP
- [ ] HTMLä¸Šã§æ­£ã—ã„è¨ˆæ¸¬ã‚¿ã‚°IDãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
- [ ] Network â†’ `facebook.com/tr` ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒé€ä¿¡ã•ã‚Œã¦ã„ã‚‹
- [ ] GTM Previewã§æ­£ã—ã„ã‚³ãƒ³ãƒ†ãƒŠãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹
- [ ] formrunã®ãƒ•ã‚©ãƒ¼ãƒ IDãŒä»£ç†åº—ã”ã¨ã«æ­£ã—ã„

### ãƒ†ã‚¹ãƒˆç”¨LP
- [ ] `<meta name="robots" content="noindex">` ãŒå­˜åœ¨ã™ã‚‹
- [ ] è¨ˆæ¸¬ã‚¿ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¦ã„ãªã„
- [ ] Network ã‚¿ãƒ–ã§è¨ˆæ¸¬ã‚µãƒ¼ãƒãƒ¼ã¸ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒé£›ã‚“ã§ã„ãªã„ã“ã¨

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**: `npm install`
2. **ç”»åƒã‚³ãƒ”ãƒ¼**: æ—¢å­˜LPã‹ã‚‰`src/assets/tokyo-subsidy/img/`ã¸ç”»åƒã‚’ã‚³ãƒ”ãƒ¼
3. **ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ**: `npm run build`
4. **å‹•ä½œç¢ºèª**: `dist/prod/`ã¨`dist/test/`ã®HTMLã‚’ç¢ºèª
5. **æ®‹ã‚ŠLPç¨®é¡ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŒ–**: ãƒãƒ³ã‚¬LPã€è“„é›»æ± LPç­‰ã‚’é †æ¬¡å¯¾å¿œ
